var ActiveOrderIds=[];function PrintElem(id){var mywindow=window.open(rootpath+"/kds/order.php?id="+id,"PRINT","width=50px");return mywindow.document.close(),mywindow.focus(),setTimeout(()=>{mywindow.print(),mywindow.close()},"1000"),!0}function updateTime(){$("#time").html(Date(timestamp)),timestamp++}function myFunction(){var now=new Date,later=new Date(now.getMinutes()+10);$("input[name='OrderDate']").each((function(){now<new Date($(this).val())?$($(this).parent()).toggleClass("bg-danger text-white"):later<new Date($(this).val())&&$($(this).parent()).toggleClass("bg-warning")})),$.getJSON("../api/nyorders").then(r=>{let toRemove=ActiveOrderIds.filter(x=>!r.includes(x)),toAdd=r.filter(x=>!ActiveOrderIds.includes(x));toRemove&&toRemove.length>0&&toRemove.forEach(x=>{$("#accordion_"+x).remove()}),toAdd&&toAdd.length>0&&toAdd.forEach(x=>{$.get("create-card.php?id="+x,(function(resp){$("#orderCards").append(resp)})),playSound()}),ActiveOrderIds=r})}$((function(){setInterval(updateTime,1e3)}));