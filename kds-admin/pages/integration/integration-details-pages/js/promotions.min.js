var tblPromotions=$("#tblPromotions").DataTable({ajax:{url:"/sessionservices/promotions.php?uid=<?php echo $integration->gfUid ?>&iid=<?php echo $integration->Id ?>",dataType:"json",type:"GET"},columns:[{data:"id"},{data:"name"},{data:"description"},{data:"outcomes[0]"},{data:"outcome_config[0].function"},{data:"outcome_config[0].discounts[0]"},{data:"updatedAt"},{data:"loyverseId",visible:!1},{data:"discount",render:function(data,type,row,meta){var $select=$("<select id='"+row.id+"'></select>",{id:row[0]+"start",value:LDiscounts});return $.each(LDiscounts,(function(k,v){var $option=$("<option></option>",{text:v.name,value:v.id});$select.append($option)})),$select.prop("outerHTML")}},{visible:!0,data:function(row,type,val,meta){let retval=' <span class="spinner spinner-border spinner-border-sm float-end visually-hidden" role="status" aria-hidden="true"></span>';return null===row.loyverseId?retval+="<span class='is-invalid'></span>":retval+="<span class='is-valid'></span>",retval}}],createdRow:function(row,data,dataIndex){$(row).addClass("menu promotion"),null===data.loyverseId?$(row).addClass("is-invalid"):$(row).addClass("is-valid")}});